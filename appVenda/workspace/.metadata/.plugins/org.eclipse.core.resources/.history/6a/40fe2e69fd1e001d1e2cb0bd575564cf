package com.appvenda.dao;

import java.util.ArrayList;
import java.util.List;

import javax.persistence.EntityManager;
import javax.persistence.TypedQuery;

//import com.appvenda.models.Client;
import com.appvenda.models.User;

public class UserDAO {
	private EntityManager entityManager;
	public void saveUser (User user) {
		System.out.println("Saving on dataBase the user: "+user.toString());
	}
	
	public UserDAO(EntityManager entityManager) {
		this.entityManager = entityManager;
	}
	
	public void salvarUsere(User Usere) {
		getEntityManager().persist(Usere);
	}
	
	public User alterarUsere(User Usere) {
		return getEntityManager().merge(Usere);
	}
	
	public void excluirUsere(Long id) {
		User Usere = consultaUsereId(id);
		getEntityManager().remove(Usere);;
	}
	
	public User consultaUsereId(Long id) {
		return getEntityManager().find(User.class, id);
	}
	public List<User> listaUsere() {
		
		List<User> Useres = new ArrayList<User>();
		//Query query = getEntityManager().createQuery("SELECT c FROM User c");
		
		
		TypedQuery<User> query = getEntityManager().createQuery("SELECT c FROM User c",User.class);
		
		
		Useres = query.getResultList();
		return Useres;
	}
	
	public List<User> listaUsereNome(String nome) {
		
		List<User> Useres = new ArrayList<User>();
		//Query query = getEntityManager().createQuery("SELECT c FROM User c");
		
		
		TypedQuery<User> query = getEntityManager().createQuery("SELECT c FROM User c WHERE c.nome = :nome",User.class);
		
		query.setParameter("nome", nome);
		
		Useres = query.getResultList();
		return Useres;
	}

	public EntityManager getEntityManager() {
		return entityManager;
	}

	
}
